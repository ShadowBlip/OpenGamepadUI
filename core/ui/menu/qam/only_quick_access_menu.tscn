[gd_scene load_steps=15 format=3 uid="uid://0gyfan0mne5p"]

[ext_resource type="Theme" uid="uid://bko0q7gp1hwjp" path="res://assets/themes/dracula.tres" id="1_6eq2a"]
[ext_resource type="Script" path="res://core/ui/menu/qam/quick_access_menu.gd" id="2_dgy5y"]
[ext_resource type="PackedScene" uid="uid://ccd4sw84h1qbc" path="res://core/systems/input/back_input_handler.tscn" id="3_84s26"]
[ext_resource type="Resource" uid="uid://bp807nlks8eq1" path="res://assets/state/states/quick_access_menu.tres" id="4_u26a3"]
[ext_resource type="PackedScene" uid="uid://orey8uxm7v6v" path="res://core/systems/state/visibility_manager.tscn" id="6_bel00"]
[ext_resource type="Resource" uid="uid://cycr83vpni1ka" path="res://assets/state/state_machines/qam_state_machine.tres" id="7_qvrin"]
[ext_resource type="Script" path="res://core/ui/components/transition_container.gd" id="9_g5tpc"]
[ext_resource type="PackedScene" uid="uid://bo077a5mwi7xl" path="res://core/ui/components/transition_fade_in.tscn" id="10_3yfx4"]
[ext_resource type="PackedScene" uid="uid://cgtqpgne2s116" path="res://core/ui/menu/qam/powertools_menu.tscn" id="11_2q3cm"]
[ext_resource type="Resource" uid="uid://b2ruoxboq5k6e" path="res://assets/state/states/qam_powertools.tres" id="12_greee"]
[ext_resource type="PackedScene" uid="uid://bsfyu747dqwcm" path="res://core/systems/input/focus_manager.tscn" id="17_vj2o4"]
[ext_resource type="PackedScene" uid="uid://b76dvfuouhlwd" path="res://core/systems/state/state_updater.tscn" id="19_ut6h4"]
[ext_resource type="PackedScene" uid="uid://dtf4h350f4dj6" path="res://core/systems/input/focus_setter.tscn" id="20_qjwqj"]
[ext_resource type="Texture2D" uid="uid://cqy34r7oni6d4" path="res://assets/ui/icons/powertools_icon.svg" id="23_w8se6"]

[node name="QuickAccessMenu" type="Control" groups=["qam"]]
z_index = 20
custom_minimum_size = Vector2(350, 0)
layout_mode = 3
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -300.0
grow_horizontal = 0
grow_vertical = 2
theme = ExtResource("1_6eq2a")
script = ExtResource("2_dgy5y")

[node name="BackInputHandler" parent="." instance=ExtResource("3_84s26")]
process_input_during = Array[Resource("res://core/systems/state/state.gd")]([ExtResource("4_u26a3")])

[node name="PanelMarginContainer" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_top = 40

[node name="Panel" type="Panel" parent="PanelMarginContainer"]
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 65
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="HBoxContainer" type="HBoxContainer" parent="MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="Viewport" type="VBoxContainer" parent="MarginContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="PowerToolsMenu" parent="MarginContainer/HBoxContainer/Viewport" instance=ExtResource("11_2q3cm")]
visible = false
layout_mode = 2

[node name="VisibilityManager" parent="MarginContainer/HBoxContainer/Viewport/PowerToolsMenu" instance=ExtResource("6_bel00")]
state_machine = ExtResource("7_qvrin")
state = ExtResource("12_greee")

[node name="TransitionContainer" type="Node" parent="MarginContainer/HBoxContainer/Viewport/PowerToolsMenu"]
script = ExtResource("9_g5tpc")

[node name="TransitionFadeIn" parent="MarginContainer/HBoxContainer/Viewport/PowerToolsMenu/TransitionContainer" instance=ExtResource("10_3yfx4")]

[node name="IconBar" type="VBoxContainer" parent="MarginContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 0
theme_override_constants/separation = 10

[node name="FocusManager" parent="MarginContainer/HBoxContainer/IconBar" node_paths=PackedStringArray("current_focus") instance=ExtResource("17_vj2o4")]
unique_name_in_owner = true
current_focus = NodePath("../PowerToolsButton")
process_input = true

[node name="PowerToolsButton" type="Button" parent="MarginContainer/HBoxContainer/IconBar"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
icon = ExtResource("23_w8se6")
icon_alignment = 1
expand_icon = true

[node name="StateUpdater" parent="MarginContainer/HBoxContainer/IconBar/PowerToolsButton" instance=ExtResource("19_ut6h4")]
state_machine = ExtResource("7_qvrin")
state = ExtResource("12_greee")
on_signal = "focus_entered"

[node name="FocusSetter" parent="MarginContainer/HBoxContainer/IconBar/PowerToolsButton" node_paths=PackedStringArray("target") instance=ExtResource("20_qjwqj")]
target = NodePath("../../../Viewport/PowerToolsMenu")
on_signal = "pressed"
